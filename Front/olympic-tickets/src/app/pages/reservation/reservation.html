<div class="mes-reservations">
  <h2>Mes Réservations</h2>

  <div *ngIf="isLoading">Chargement...</div>

  <ul *ngIf="!isLoading && reservations.length > 0; else noReservation">
    <li *ngFor="let res of reservations" class="reservation-card">
      <div class="info">
        <p><strong>Offre:</strong> {{ res.offert?.name }}</p>
        <p><strong>Lieu:</strong> {{ res.offert?.location }}</p>
        <p><strong>Date:</strong> {{ res.offert?.date | date:'dd/MM/yyyy HH:mm' }}</p>
        <p><strong>Places réservées:</strong> {{ res.seats }}</p>
        <p *ngIf="res.status === 'EXPIRE'"><strong>Statut:</strong> Expiré ❌</p>
        <p *ngIf="res.status === 'UTILISE'"><strong>Statut:</strong> Utilisé ✅</p>
        <p *ngIf="res.status === 'VALIDE'"><strong>Statut:</strong> Valide ✅</p>


      </div>
      <div class="qr" *ngIf="res.qrCode">
        <img [src]="'data:image/png;base64,' + res.qrCode" alt="QR Code">
      </div>
    </li>
  </ul>

  <ng-template #noReservation>
    <p class="no-reservation">Aucune réservation trouvée.</p>
  </ng-template>
</div>